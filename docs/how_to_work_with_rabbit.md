# üê∞ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å RabbitMQ –≤ —ç—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–µ

## üìå –û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å

RabbitMQ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–±—ã—Ç–∏–π, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –¥–µ–π—Å—Ç–≤–∏—è–º–∏ –Ω–∞–¥ –∫–æ—à–∫–∞–º–∏:

- –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ—à–∫–∏ (`cat.created`)
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ—à–∫–∏ (`cat.updated`)
- –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ—à–∫–∏ (`cat.deleted`)

–≠—Ç–∏ —Å–æ–±—ã—Ç–∏—è –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –¥—Ä—É–≥–∏—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö –∏–ª–∏ –º–æ–¥—É–ª—è—Ö, —á—Ç–æ–±—ã —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è.

---

## üß© –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

- **–û–±–º–µ–Ω–Ω–∏–∫ (exchange):** `cats_event`
- **–¢–∏–ø –æ–±–º–µ–Ω–Ω–∏–∫–∞:** `topic`

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≥–∏–±–∫–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è –ø–æ –∫–ª—é—á–∞–º, –Ω–∞–ø—Ä–∏–º–µ—Ä:

- `cat.created`
- `cat.updated`
- `cat.*` (–≤—Å–µ —Å–æ–±—ã—Ç–∏—è –æ –∫–æ—à–∫–∞—Ö)
- `cat.#` (–≤—Å–µ —Å–æ–±—ã—Ç–∏—è, –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å `cat.`)

---

## üõ† –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å RabbitMQ

### 1. –í–∫–ª—é—á–∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å RabbitMQ

–ï—Å–ª–∏ –µ—â—ë –Ω–µ –≤–∫–ª—é—á—ë–Ω:

```bash  
rabbitmq-plugins enable rabbitmq_management
```
–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –æ—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

- üîó http://localhost:15672  
- üîê –õ–æ–≥–∏–Ω: `guest`  
- üîê –ü–∞—Ä–æ–ª—å: `guest`

---

### 2. –ü—Ä–æ–≤–µ—Ä—å –æ–±–º–µ–Ω–Ω–∏–∫ `cats_event`

- –ü–µ—Ä–µ–π–¥–∏ –≤ —Ä–∞–∑–¥–µ–ª **"Exchanges"**
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ –µ—Å—Ç—å –æ–±–º–µ–Ω–Ω–∏–∫ —Å –∏–º–µ–Ω–µ–º `cats_event` –∏ —Ç–∏–ø–æ–º `topic`
- –ï—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç, —Å–æ–∑–¥–∞–π:
  - –ò–º—è: `cats_event`
  - –¢–∏–ø: `topic`
  - ‚úÖ Durable (—á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏–ª—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞)

---

### 3. –°–æ–∑–¥–∞–π –æ—á–µ—Ä–µ–¥—å (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

- –ü–µ—Ä–µ–π–¥–∏ –≤ **"Queues" ‚Üí "Create"**
- –ü—Ä–∏–º–µ—Ä: `cat_created_queue`
- ‚úÖ Durable ‚Äî –µ—Å–ª–∏ —Ö–æ—á–µ—à—å, —á—Ç–æ–±—ã –æ—á–µ—Ä–µ–¥—å —Å–æ—Ö—Ä–∞–Ω–∏–ª–∞—Å—å –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞

---

### 4. –ü—Ä–∏–≤—è–∂–∏ –æ—á–µ—Ä–µ–¥—å –∫ –æ–±–º–µ–Ω–Ω–∏–∫—É

- –ü–µ—Ä–µ–π–¥–∏ –≤ –æ—á–µ—Ä–µ–¥—å, –Ω–∞–ø—Ä–∏–º–µ—Ä `cat_created_queue`
- –í —Ä–∞–∑–¥–µ–ª–µ **Bindings** –Ω–∞–∂–º–∏ **"Bind to an exchange"**
- –í—ã–±–µ—Ä–∏:
  - Exchange: `cats_event`
  - Routing key: –Ω–∞–ø—Ä–∏–º–µ—Ä, `cat.created` (–∏–ª–∏ `cat.#` –¥–ª—è –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π –æ –∫–æ—à–∫–∞—Ö)

–¢–µ–ø–µ—Ä—å –æ—á–µ—Ä–µ–¥—å –±—É–¥–µ—Ç –ø–æ–ª—É—á–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Å–æ–±—ã—Ç–∏—è.

---

### 5. –û—Ç–ø—Ä–∞–≤—å —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ

- –ü–µ—Ä–µ–π–¥–∏ –≤ –æ–±–º–µ–Ω–Ω–∏–∫ `cats_event`
- –í —Ä–∞–∑–¥–µ–ª–µ **"Publish message"**:
  - Routing key: `cat.created`
  - Payload:

```json  
{
  "name": "–ú—É—Ä–∑–∏–∫",
  "age": 2
}
```

  - Content type: `application/json`
  - –ù–∞–∂–º–∏ **"Publish"**

---

### 6. –ü—Ä–æ–≤–µ—Ä—å, –ø—Ä–∏—à–ª–æ –ª–∏ —Å–æ–±—ã—Ç–∏–µ –≤ –æ—á–µ—Ä–µ–¥—å

- –ü–µ—Ä–µ–π–¥–∏ –≤ –æ—á–µ—Ä–µ–¥—å, –Ω–∞–ø—Ä–∏–º–µ—Ä `cat_created_queue`
- –í —Ä–∞–∑–¥–µ–ª–µ **"Get messages"**:
  - –í—ã–±–µ—Ä–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π
  - –ù–∞–∂–º–∏ **"Get message(s)"**
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ —Ç—ã –ø–æ–ª—É—á–∏–ª —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

---

## üì¨ –ù–∞ –∫–∞–∫–∏–µ —Å–æ–±—ã—Ç–∏—è —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –æ—á–µ—Ä–µ–¥—å?

–≠—Ç–æ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç **routing_key**, –∫–æ—Ç–æ—Ä—ã–π —Ç—ã —É–∫–∞–∑–∞–ª –ø—Ä–∏ –ø—Ä–∏–≤—è–∑–∫–µ –æ—á–µ—Ä–µ–¥–∏ –∫ –æ–±–º–µ–Ω–Ω–∏–∫—É:

| Routing Key   | –ß—Ç–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è                    |
|---------------|----------------------------------------|
| `cat.created` | –¢–æ–ª—å–∫–æ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–æ—à–∫–∏              |
| `cat.updated` | –¢–æ–ª—å–∫–æ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∫–æ—à–∫–∏            |
| `cat.deleted` | –¢–æ–ª—å–∫–æ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∫–æ—à–∫–∏              |
| `cat.*`       | –í—Å–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –æ –∫–æ—à–∫–∞—Ö         |
| `cat.#`       | –í—Å–µ —Å–æ–±—ã—Ç–∏—è, –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å `cat.`     |

---

## üìã –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –ø—Ä–æ–µ–∫—Ç–µ

–ö–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞:

- –°–æ–∑–¥–∞—ë—Ç—Å—è –∫–æ—à–∫–∞ ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–æ–±—ã—Ç–∏–µ `cat.created`
- –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–æ—à–∫–∞ ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–æ–±—ã—Ç–∏–µ `cat.updated`
- –£–¥–∞–ª—è–µ—Ç—Å—è –∫–æ—à–∫–∞ ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–æ–±—ã—Ç–∏–µ `cat.deleted`

–≠—Ç–∏ —Å–æ–±—ã—Ç–∏—è –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è:

- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å –¥—Ä—É–≥–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏

---

## ‚úÖ –ü–æ–ª–µ–∑–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ–±–º–µ–Ω–Ω–∏–∫–∏ ‚Üí –í–∫–ª–∞–¥–∫–∞ **"Exchanges"**
- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ—á–µ—Ä–µ–¥–∏ ‚Üí –í–∫–ª–∞–¥–∫–∞ **"Queues"**
- –ü—Ä–∏–≤—è–∑–∞—Ç—å –æ—á–µ—Ä–µ–¥—å –∫ –æ–±–º–µ–Ω–Ω–∏–∫—É ‚Üí Queue ‚Üí **Bindings** ‚Üí **Bind to exchange**
- –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Üí Exchange ‚Üí **Publish message**
- –ü–æ–ª—É—á–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ –æ—á–µ—Ä–µ–¥–∏ ‚Üí Queue ‚Üí **Get messages**

---

## üí° –°–æ–≤–µ—Ç—ã

- –ò—Å–ø–æ–ª—å–∑—É–π `cat.#` –≤ `routing_key`, –µ—Å–ª–∏ —Ö–æ—á–µ—à—å –ø–æ–ª—É—á–∞—Ç—å **–≤—Å–µ —Å–æ–±—ã—Ç–∏—è –æ –∫–æ—à–∫–∞—Ö**.
- –î–µ–ª–∞–π –æ–±–º–µ–Ω–Ω–∏–∫–∏ –∏ –æ—á–µ—Ä–µ–¥–∏ **durable**, –µ—Å–ª–∏ –æ–Ω–∏ –Ω—É–∂–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞.
- –õ–æ–≥–∏—Ä—É–π –æ—à–∏–±–∫–∏ –ø—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Å–æ–±—ã—Ç–∏–π ‚Äî —ç—Ç–æ –ø–æ–º–æ–∂–µ—Ç –≤ –æ—Ç–ª–∞–¥–∫–µ.
