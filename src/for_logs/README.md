Установка и подготовка
Запуск Elasticsearch

Запусти локально Elasticsearch версии 8.x (в проекте протестировано на 8.13.0)

Проверь, что Elasticsearch доступен по адресу:
http://localhost:9200

Запуск Kibana

Запусти Kibana (обычно на http://localhost:5601)

Создай индекс-паттерн для просмотра логов (см. раздел ниже)

Установка Python-зависимостей

```bash
pip install fastapi uvicorn elasticsearch==8.7.0 python-json-logger
```
Важно: Используй клиент elasticsearch версии 8.x для совместимости с сервером 8.x.

\Middleware логирования FastAPI
Логирует входящий запрос (IP, метод, путь, тело, user-agent, request_id)

Логирует исходящий ответ (статус, тело)

Обеспечивает корректную работу с телом запроса и ответа, чтобы приложение могло их читать после логирования

Настройка ElasticsearchHandler
Отправляет логи в индекс koshki-logs

Обрабатывает ошибки отправки и выводит сообщения в консоль для отладки

Настройка Kibana
Перейди в Kibana → Stack Management → Index Patterns

Создай новый индекс-паттерн:

koshki-logs*
Выбери поле @timestamp как поле для временной фильтрации

Сохрани индекс-паттерн

Проверка работоспособности
Запусти FastAPI приложение:

```bash
uvicorn src.interface.main:app --reload
```
Сделай что-нибудь, например получи список всех кошек

В Kibana открой раздел Discover, выбери индекс-паттерн koshki-logs* и убедись, 
что логи появляются с правильной временной меткой и полями